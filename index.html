<!DOCTYPE html>
<html lang="ar" dir="rtl" id="htmlElement">
<head>
  <!-- Keep existing head content -->
  <style>
    /* Add these new styles for language selection */
    .language-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      backdrop-filter: blur(10px);
    }

    .language-box {
      background: white;
      padding: 3rem;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      max-width: 500px;
    }

    .language-title {
      color: var(--primary-color);
      font-size: 2.5rem;
      margin-bottom: 2rem;
      font-weight: 700;
    }

    .language-buttons {
      display: flex;
      gap: 2rem;
      justify-content: center;
    }

    .lang-btn {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 1.5rem 3rem;
      border-radius: 50px;
      font-size: 1.3rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .lang-btn:hover {
      background: #004d33;
      transform: translateY(-3px);
    }

    .lang-btn i {
      font-size: 1.5rem;
    }

    /* Add this to hide content until language is selected */
    body:not(.language-selected) > :not(.language-overlay) {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Language Selection Overlay -->
  <div class="language-overlay" id="languageOverlay">
    <div class="language-box">
      <h2 class="language-title">اختر اللغة / Select Language</h2>
      <div class="language-buttons">
        <button class="lang-btn" onclick="selectLanguage('ar')">
          <i class="fas fa-mosque"></i>
          العربية
        </button>
        <button class="lang-btn" onclick="selectLanguage('en')">
          <i class="fas fa-globe"></i>
          English
        </button>
      </div>
    </div>
  </div>

  <!-- Keep existing body content -->

  <script>
    // Modified language handling
    let currentLang = 'ar';

    function selectLanguage(lang) {
      currentLang = lang;
      const htmlElement = document.getElementById('htmlElement');
      document.body.classList.add('language-selected');
      
      // Hide language overlay
      document.getElementById('languageOverlay').remove();

      // Set initial direction and lang attribute
      htmlElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
      htmlElement.lang = lang;
      
      // Update font family
      document.body.classList.toggle('english-font', lang === 'en');
      
      // Set initial translations
      document.querySelectorAll('[data-translate-key]').forEach(element => {
        const key = element.dataset.translateKey;
        element.textContent = translations[key][lang];
      });

      // Update language switcher text
      document.getElementById('langSwitcher').textContent = lang === 'ar' ? 'English' : 'العربية';
      
      // Render initial cards
      renderCards();
    }

    // Modified toggleLanguage function
    function toggleLanguage() {
      currentLang = currentLang === 'ar' ? 'en' : 'ar';
      const htmlElement = document.getElementById('htmlElement');
      
      htmlElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
      htmlElement.lang = currentLang;
      
      document.getElementById('langSwitcher').textContent = currentLang === 'ar' ? 'English' : 'العربية';
      document.body.classList.toggle('english-font', currentLang === 'en');
      
      document.querySelectorAll('[data-translate-key]').forEach(element => {
        const key = element.dataset.translateKey;
        element.textContent = translations[key][currentLang];
      });

      renderCards();
    }

    // Keep rest of the existing JavaScript
  </script>
</body>
</html>
